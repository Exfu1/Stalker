(function(_,We,f,e,Ge,p,R,Q){"use strict";var _e=Object.defineProperty,je=Object.defineProperties,Ve=Object.getOwnPropertyDescriptors,fe=Object.getOwnPropertySymbols,Ke=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,ge=(t,a,l)=>a in t?_e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,ye=(t,a)=>{for(var l in a||(a={}))Ke.call(a,l)&&ge(t,l,a[l]);if(fe)for(var l of fe(a))qe.call(a,l)&&ge(t,l,a[l]);return t},he=(t,a)=>je(t,Ve(a)),pe,Re,be,ke,ve,Ee,Se,Ce;const{ScrollView:Qe,View:g,Text:i,TouchableOpacity:C,TextInput:me}=Ge.General,Y=((pe=e.ReactNative)==null?void 0:pe.BackHandler)||f.findByProps("addEventListener","removeEventListener","exitApp"),D=f.findByStoreName("UserStore"),m=f.findByStoreName("GuildStore"),I=f.findByStoreName("GuildMemberStore"),b=f.findByStoreName("ChannelStore"),A=f.findByStoreName("SelectedGuildStore"),J=f.findByStoreName("GuildChannelStore"),X=f.findByStoreName("GuildRoleStore"),z=f.findByProps("getChannelPermissions","can"),{getChannel:Ie}=f.findByProps("getChannel")||{},Z=((Re=f.findByProps("ChannelTypes"))==null?void 0:Re.ChannelTypes)||{},w=((be=e.ReactNative)==null?void 0:be.Clipboard)||f.findByProps("setString","getString"),ee=f.findByProps("getAPIBaseURL","get")||f.findByProps("API_HOST","get");let x=[];const Ye=50;function h(t,a){const l=`[${new Date().toLocaleTimeString()}] [${t}] ${a}`;x.unshift(l),x.length>Ye&&x.pop(),We.logger.log(l)}function te(){return x}function Je(){x=[]}h("INIT","Starting module discovery...");const L=f.findByName("UserProfileHeader",!1),Xe=(ke=f.findByProps("UserProfileActions"))==null?void 0:ke.UserProfileActions,Ze=f.findByName("UserProfileSection",!1),et=f.findByName("ProfileBanner",!1),tt=f.findByName("ChannelContextMenu",!1),M=f.findByName("ChannelLongPressActionSheet",!1),nt=f.findByProps("openContextMenu","closeContextMenu"),ne=f.findByProps("openLazy","hideActionSheet"),rt=f.findByName("ActionSheetRow",!1);(ve=f.findByProps("NavigationContainer"))==null||ve.default,f.findByProps("createStackNavigator");const at=(Ee=f.findByProps("useNavigation"))==null?void 0:Ee.useNavigation,re=f.findByProps("registerCommand","unregisterCommand");h("INIT",`UserProfileHeader: ${!!L}`),h("INIT",`UserProfileActions: ${!!Xe}`),h("INIT",`UserProfileSection: ${!!Ze}`),h("INIT",`ProfileBanner: ${!!et}`),h("INIT",`ChannelContextMenu: ${!!tt}`),h("INIT",`ChannelLongPress: ${!!M}`),h("INIT",`ContextMenu: ${!!nt}`),h("INIT",`ActionSheet: ${!!ne}`),h("INIT",`ActionSheetRow: ${!!rt}`),h("INIT",`useNavigation: ${!!at}`),h("INIT",`Commands: ${!!re}`);const we=((Ce=(Se=e.constants)==null?void 0:Se.Permissions)==null?void 0:Ce.VIEW_CHANNEL)||1024,lt={1:"Create Invite",2:"Kick Members",4:"Ban Members",8:"Administrator",16:"Manage Channels",32:"Manage Server",64:"Add Reactions",128:"View Audit Log",256:"Priority Speaker",512:"Stream",1024:"View Channel",2048:"Send Messages",4096:"Send TTS",8192:"Manage Messages",16384:"Embed Links",32768:"Attach Files",65536:"Read History",131072:"Mention Everyone",262144:"Use External Emoji",524288:"View Insights",1048576:"Connect",2097152:"Speak",4194304:"Mute Members",8388608:"Deafen Members",16777216:"Move Members",33554432:"Use VAD",67108864:"Change Nickname",134217728:"Manage Nicknames",268435456:"Manage Roles",536870912:"Manage Webhooks",1073741824:"Manage Emojis"};let ae=!0,U=!1,le="",j=null,B=[],V=!1;const Te=[Z.DM,Z.GROUP_DM,Z.GUILD_CATEGORY];function ie(t,a){if(!(!e.FluxDispatcher||a.length===0))try{e.FluxDispatcher.dispatch({type:"GUILD_MEMBERS_REQUEST",guildIds:[t],userIds:a})}catch{}}function it(t){var a,l;if(!t||(typeof t=="string"&&(t=Ie?.(t)||((a=b?.getChannel)==null?void 0:a.call(b,t))),!t||Te.includes(t.type)))return!1;t.realCheck=!0;const c=!((l=z?.can)!=null&&l.call(z,we,t));return delete t.realCheck,c}function Fe(t){const a=Number(t),l=[];for(const[c,o]of Object.entries(lt))a&Number(c)&&l.push(o);return l}function ot(t,a){var l,c,o;try{const r=(l=m?.getGuild)==null?void 0:l.call(m,a);if((c=r?.roles)!=null&&c[t])return{name:r.roles[t].name,color:r.roles[t].color||0,found:!0}}catch{}try{if(X){const r=(o=X.getRole)==null?void 0:o.call(X,a,t);if(r)return{name:r.name,color:r.color||0,found:!0}}}catch{}return{name:`Role ID: ${t}`,color:5793266,found:!1}}function ct(t,a){var l,c;const o=(l=D?.getUser)==null?void 0:l.call(D,t),r=(c=I?.getMember)==null?void 0:c.call(I,a,t);return o?{name:r?.nick||o.globalName||o.username,isFetched:!0}:{name:`User ID: ${t}`,isFetched:!1}}function oe(t,a){const l=[],c=[];try{const o=t.permissionOverwrites||{};for(const[r,u]of Object.entries(o)){if(!u)continue;const k=Number(u.allow||0),v=Number(u.deny||0),E=u.type===0||u.type==="role",H=E?"role":"user";let y="",T=0,W=!1,P=!0;if(E)if(r===a)y="@everyone",T=10070709;else{const N=ot(r,a);y=N.name,T=N.color,W=!N.found}else{c.push(r);const N=ct(r,a);y=N.name,P=N.isFetched,W=!P}l.push({id:r,name:y,type:H,color:T,allowed:Fe(k),denied:Fe(v),isUnknown:W,isFetched:P})}l.sort(function(r,u){return r.name==="@everyone"?-1:u.name==="@everyone"?1:r.type!==u.type?r.type==="role"?-1:1:r.name.localeCompare(u.name)})}catch{}return{overwrites:l,userIds:c}}function De(t){switch(t){case 0:return"\u{1F4AC}";case 2:return"\u{1F50A}";case 4:return"\u{1F4C1}";case 5:return"\u{1F4E2}";case 13:return"\u{1F3AD}";case 15:return"\u{1F4CB}";default:return"\u{1F4DD}"}}function st(t){var a,l;const c=new Map;try{const o=(a=b?.getMutableGuildChannelsForGuild)==null?void 0:a.call(b,t);if(o)for(const r of Array.isArray(o)?o:Object.values(o))r!=null&&r.id&&c.set(r.id,r)}catch{}try{const o=(l=b?.getMutableGuildChannels)==null?void 0:l.call(b);if(o)for(const r of Object.values(o))r?.guild_id===t&&r!=null&&r.id&&c.set(r.id,r)}catch{}try{if(J!=null&&J.getChannels){const o=J.getChannels(t);if(o){const r=function(u){if(Array.isArray(u))for(const k of u){const v=k?.channel||k;v!=null&&v.id&&c.set(v.id,v)}};if(Array.isArray(o))r(o);else for(const u of Object.keys(o))Array.isArray(o[u])&&r(o[u])}}}catch{}return Array.from(c.values())}function Ne(t){var a,l;const c=[];V=!0;try{const o=st(t);for(const r of o)!(r!=null&&r.id)||r.type===4||r.type===1||r.type===3||r.type===11||r.type===12||Te.includes(r.type)||it(r)&&c.push({id:r.id,name:r.name||"unknown",type:r.type||0,parentName:r.parent_id&&((l=(a=b?.getChannel)==null?void 0:a.call(b,r.parent_id))==null?void 0:l.name)||"",permissions:oe(r,t),guildId:t})}catch(o){h("ERROR",`getHiddenChannels: ${o}`)}finally{V=!1}return c.sort(function(o,r){return o.name.localeCompare(r.name)})}function dt(t,a,l){var c;const o=(c=I?.getMember)==null?void 0:c.call(I,l,t);if(!o)return!1;const r=o.roles||[];for(const u of a.permissions.overwrites)if(u.type==="user"&&u.id===t&&u.allowed.includes("View Channel")||u.type==="role"&&r.includes(u.id)&&u.allowed.includes("View Channel"))return!0;return!1}function ut(t,a){return Ne(a).filter(function(l){return dt(t,l,a)})}function Be(t){if(!m||!I)return[];try{return Object.values(m.getGuilds()||{}).filter(function(a){return I.getMember(a.id,t)})}catch{return[]}}async function Pe(t,a){var l,c,o;if(!(ee!=null&&ee.get))return[];try{const r=await ee.get({url:`/guilds/${t}/messages/search`,query:{author_id:a,include_nsfw:!0,sort_by:"timestamp",sort_order:"desc"}}),u=((c=(l=m?.getGuild)==null?void 0:l.call(m,t))==null?void 0:c.name)||"Unknown Server";return(((o=r?.body)==null?void 0:o.messages)||[]).map(function(k){var v,E;return{id:k[0].id,content:k[0].content||"[No text]",channelId:k[0].channel_id,channelName:((E=(v=b?.getChannel)==null?void 0:v.call(b,k[0].channel_id))==null?void 0:E.name)||"unknown",guildId:t,guildName:u,timestamp:k[0].timestamp}})}catch{return[]}}function O(t){return w!=null&&w.setString?(w.setString(t),le=t,!0):!1}function ft(t,a){O(t)&&R.showToast(`\u{1F4CB} ${a==="role"?"Role":"User"} ID copied!`,p.getAssetIDByName("Check"))}async function gt(t){var a;const l=(a=D?.getCurrentUser)==null?void 0:a.call(D);if(l&&t===l.id)return;const c=Be(t);if(c.length===0){R.showToast("\u274C No mutual servers",p.getAssetIDByName("Small"));return}R.showToast("\u{1F50D} Searching...",p.getAssetIDByName("ic_search"));let o=[];for(let k=0;k<Math.min(c.length,8);k++){try{o.push(...await Pe(c[k].id,t))}catch{}k<c.length-1&&await new Promise(function(v){return setTimeout(v,250)})}if(o.sort(function(k,v){return new Date(v.timestamp).getTime()-new Date(k.timestamp).getTime()}),o.length===0){R.showToast("\u{1F4ED} No messages",p.getAssetIDByName("Small"));return}const r=o[0],u=`https://discord.com/channels/${r.guildId}/${r.channelId}/${r.id}`;R.showToast(`\u2705 Found ${o.length}!`,p.getAssetIDByName("Check")),setTimeout(function(){O(u)&&R.showToast("\u{1F4CB} Copied latest!",p.getAssetIDByName("Check"))},1500)}async function yt(){if(!(U||!ae))try{if(!(w!=null&&w.getString))return;const t=await w.getString();t&&t!==le&&/^\d{17,19}$/.test(t.trim())&&(le=t,R.showToast("\u{1F3AF} ID detected!",p.getAssetIDByName("Check")),setTimeout(function(){return gt(t.trim())},1e3))}catch{}}function ht(t){const a=Date.now()-new Date(t).getTime(),l=Math.floor(a/6e4),c=Math.floor(l/60),o=Math.floor(c/24);return o>0?`${o}d ago`:c>0?`${c}h ago`:`${l}m ago`}function pt(){var t,a,l;const[c,o]=e.React.useState("hidden"),[r,u]=e.React.useState([]),[k,v]=e.React.useState(!1),[E,H]=e.React.useState(null),[y,T]=e.React.useState(null),[W,P]=e.React.useState("Tap 'Scan' to find hidden channels"),[N,Ae]=e.React.useState(""),[ce,vt]=e.React.useState([]),[$,Et]=e.React.useState(null),[St,ze]=e.React.useState(!1),[$e,xe]=e.React.useState(""),[Ct,se]=e.React.useState(!1),[de,Le]=e.React.useState([]),[K,mt]=e.React.useState(ae),[q,ue]=e.React.useState(te());e.React.useState(0),e.React.useEffect(function(){},[]),e.React.useEffect(function(){var n,s,d;U=!0;const S=(n=A?.getGuildId)==null?void 0:n.call(A);S&&H((s=m?.getGuild)==null?void 0:s.call(m,S));const F=(d=Y?.addEventListener)==null?void 0:d.call(Y,"hardwareBackPress",function(){return y?(T(null),c==="perms"&&o("hidden"),!0):c!=="hidden"?(o("hidden"),!0):!1});return function(){var He;U=!1,(He=F?.remove)==null||He.call(F)}},[y,c]),e.React.useEffect(function(){if(y&&y.permissions.userIds.length>0){ie(y.guildId,y.permissions.userIds);const n=setTimeout(function(){var s;if(y&&E){const d=(s=b?.getChannel)==null?void 0:s.call(b,y.id);d&&T(he(ye({},y),{permissions:oe(d,E.id)}))}},1500);return function(){return clearTimeout(n)}}},[y?.id]);const It=function(){var n,s;v(!0),u([]);try{const d=(n=A?.getGuildId)==null?void 0:n.call(A);if(d){H((s=m?.getGuild)==null?void 0:s.call(m,d));const S=Ne(d);u(S),P(`Scanned \u2192 ${S.length} hidden`),R.showToast(S.length>0?`\u{1F512} ${S.length} hidden!`:"\u2728 No hidden",p.getAssetIDByName("Check"))}else H(null),P("Open a server first")}catch(d){P(`Error: ${d}`)}finally{v(!1)}},wt=function(){y&&E&&(ie(E.id,y.permissions.userIds),setTimeout(function(){var n;const s=(n=b?.getChannel)==null?void 0:n.call(b,y.id);s&&(T(he(ye({},y),{permissions:oe(s,E.id)})),R.showToast("\u{1F504} Refreshed!",p.getAssetIDByName("Check")))},500))},Tt=function(){const n=N.trim();if(!n||n.length<17){R.showToast("Enter valid ID",p.getAssetIDByName("Small"));return}if(!E){R.showToast("Open a server first",p.getAssetIDByName("Small"));return}ze(!0),ie(E.id,[n]),setTimeout(function(){var s,d;const S=(s=D?.getUser)==null?void 0:s.call(D,n),F=(d=I?.getMember)==null?void 0:d.call(I,E.id,n);Et({user:S,member:F,id:n}),vt(ut(n,E.id)),ze(!1)},500)},Ft=async function(){const n=$e.trim();if(!n||n.length<17){R.showToast("Enter valid ID",p.getAssetIDByName("Small"));return}se(!0),Le([]);const s=Be(n);if(s.length===0){R.showToast("\u274C No mutual servers",p.getAssetIDByName("Small")),se(!1);return}R.showToast("\u{1F50D} Searching...",p.getAssetIDByName("ic_search"));let d=[];for(let S=0;S<Math.min(s.length,8);S++){try{d.push(...await Pe(s[S].id,n))}catch{}S<s.length-1&&await new Promise(function(F){return setTimeout(F,250)})}d.sort(function(S,F){return new Date(F.timestamp).getTime()-new Date(S.timestamp).getTime()}),Le(d),se(!1),R.showToast(d.length>0?`\u2705 ${d.length} messages!`:"\u{1F4ED} No messages",p.getAssetIDByName("Check"))},Dt=function(n){const s=`https://discord.com/channels/${n.guildId}/${n.channelId}/${n.id}`;O(s)&&R.showToast("\u{1F4CB} Link copied!",p.getAssetIDByName("Check"))},Me=async function(n){var s;try{const d=await((s=w?.getString)==null?void 0:s.call(w));d&&(n(d.trim()),R.showToast("\u{1F4CB} Pasted!",p.getAssetIDByName("Check")))}catch{}},Nt=function(n){ae=n,mt(n),R.showToast(n?"\u2705 Auto-search enabled":"\u274C Auto-search disabled",p.getAssetIDByName("Check"))},Ue=function(n){return n?`#${n.toString(16).padStart(6,"0")}`:"#99AAB5"},G=function({id:n,label:s,icon:d}){return e.React.createElement(C,{style:{flex:1,padding:6,backgroundColor:c===n?"#5865F2":"#2b2d31",borderRadius:6,marginHorizontal:1},onPress:function(){o(n),n!=="perms"&&T(null),n==="debug"&&ue(te())}},e.React.createElement(i,{style:{color:"#fff",textAlign:"center",fontSize:9,fontWeight:c===n?"bold":"normal"}},`${d}${s}`))},Oe=function({ch:n,onPress:s}){return e.React.createElement(C,{style:{margin:6,padding:10,backgroundColor:"#2b2d31",borderRadius:10,borderLeftWidth:3,borderLeftColor:"#5865F2"},onPress:s},[e.React.createElement(g,{key:"h",style:{flexDirection:"row",alignItems:"center"}},[e.React.createElement(i,{key:"i",style:{fontSize:14,marginRight:6}},De(n.type)),e.React.createElement(g,{key:"n",style:{flex:1}},[e.React.createElement(i,{key:"nm",style:{color:"#fff",fontSize:13,fontWeight:"bold"}},n.name),n.parentName&&e.React.createElement(i,{key:"p",style:{color:"#949ba4",fontSize:10}},`in ${n.parentName}`)]),e.React.createElement(i,{key:"a",style:{color:"#5865F2",fontSize:10}},"\u2192")])])},Bt=function({ow:n}){return e.React.createElement(C,{style:{margin:4,marginHorizontal:6,padding:8,backgroundColor:"#2b2d31",borderRadius:8,borderLeftWidth:3,borderLeftColor:n.type==="role"?Ue(n.color):"#43b581"},onPress:function(){return ft(n.id,n.type)}},[e.React.createElement(g,{key:"hdr",style:{flexDirection:"row",alignItems:"center",marginBottom:3}},[e.React.createElement(i,{key:"t",style:{fontSize:11,marginRight:4}},n.type==="role"?"\u{1F3F7}\uFE0F":"\u{1F464}"),e.React.createElement(g,{key:"nw",style:{flex:1}},[e.React.createElement(i,{key:"n",style:{color:n.type==="role"?Ue(n.color):"#43b581",fontSize:12,fontWeight:"bold"}},n.name),!n.isFetched&&n.type==="user"&&e.React.createElement(i,{key:"hint",style:{color:"#949ba4",fontSize:9}},"Tap refresh")]),e.React.createElement(g,{key:"b",style:{backgroundColor:n.type==="role"?"#5865F2":"#43b581",paddingHorizontal:5,paddingVertical:2,borderRadius:3}},e.React.createElement(i,{style:{color:"#fff",fontSize:8,fontWeight:"bold"}},n.type==="role"?"ROLE":"USER")),e.React.createElement(i,{key:"copy",style:{color:"#949ba4",fontSize:9,marginLeft:4}},"\u{1F4CB}")]),n.allowed.length>0&&e.React.createElement(g,{key:"a",style:{flexDirection:"row",flexWrap:"wrap",marginTop:2}},n.allowed.map(function(s,d){return e.React.createElement(i,{key:`a${d}`,style:{color:"#43b581",fontSize:9,backgroundColor:"rgba(67,181,129,0.15)",paddingHorizontal:4,paddingVertical:1,borderRadius:3,marginRight:2,marginBottom:2}},`\u2705${s}`)})),n.denied.length>0&&e.React.createElement(g,{key:"d",style:{flexDirection:"row",flexWrap:"wrap",marginTop:2}},n.denied.map(function(s,d){return e.React.createElement(i,{key:`d${d}`,style:{color:"#ed4245",fontSize:9,backgroundColor:"rgba(237,66,69,0.15)",paddingHorizontal:4,paddingVertical:1,borderRadius:3,marginRight:2,marginBottom:2}},`\u274C${s}`)}))])};return e.React.createElement(Qe,{style:{flex:1,backgroundColor:"#1e1f22"}},[e.React.createElement(g,{key:"h",style:{padding:10,backgroundColor:"#2b2d31",marginBottom:6}},[e.React.createElement(i,{key:"t",style:{color:"#fff",fontSize:16,fontWeight:"bold",textAlign:"center"}},"\u{1F50D} Stalker Pro v5.0-dev"),e.React.createElement(i,{key:"s",style:{color:"#b5bac1",fontSize:10,textAlign:"center"}},E?`\u{1F4CD} ${E.name}`:"Open a server")]),e.React.createElement(g,{key:"tabs",style:{flexDirection:"row",padding:4,marginBottom:4}},[e.React.createElement(G,{key:"1",id:"hidden",label:"Hidden",icon:"\u{1F512}"}),e.React.createElement(G,{key:"2",id:"perms",label:"Perms",icon:"\u{1F510}"}),e.React.createElement(G,{key:"3",id:"user",label:"User",icon:"\u{1F464}"}),e.React.createElement(G,{key:"4",id:"search",label:"Msgs",icon:"\u{1F4AC}"}),e.React.createElement(G,{key:"5",id:"debug",label:"Debug",icon:"\u{1F41B}"})]),c==="hidden"&&[e.React.createElement(C,{key:"scan",style:{margin:8,padding:12,backgroundColor:"#5865F2",borderRadius:8,alignItems:"center"},onPress:It},e.React.createElement(i,{style:{color:"#fff",fontWeight:"bold",fontSize:14}},k?"\u23F3 Scanning...":"\u{1F504} Scan Server")),e.React.createElement(i,{key:"dbg",style:{color:"#949ba4",textAlign:"center",fontSize:10,marginBottom:6}},W),...r.map(function(n,s){return e.React.createElement(Oe,{key:`c${s}`,ch:n,onPress:function(){T(n),o("perms")}})}),r.length===0&&!k&&e.React.createElement(g,{key:"empty",style:{padding:30,alignItems:"center"}},[e.React.createElement(i,{key:"e1",style:{fontSize:30}},"\u{1F512}"),e.React.createElement(i,{key:"e2",style:{color:"#b5bac1",fontSize:12,marginTop:6,textAlign:"center"}},"Tap 'Scan Server' to find hidden channels")])],c==="perms"&&[!y&&e.React.createElement(g,{key:"no-sel",style:{padding:30,alignItems:"center"}},[e.React.createElement(i,{key:"t1",style:{fontSize:30}},"\u{1F510}"),e.React.createElement(i,{key:"t2",style:{color:"#fff",fontSize:13,marginTop:6}},"Select a channel")]),y&&[e.React.createElement(g,{key:"ch-hdr",style:{padding:10,backgroundColor:"#2b2d31",margin:6,borderRadius:8}},[e.React.createElement(g,{key:"r",style:{flexDirection:"row",alignItems:"center"}},[e.React.createElement(i,{key:"i",style:{fontSize:18,marginRight:8}},De(y.type)),e.React.createElement(i,{key:"n",style:{color:"#fff",fontSize:14,fontWeight:"bold",flex:1}},y.name)])]),e.React.createElement(g,{key:"btns",style:{flexDirection:"row",margin:6,marginTop:0}},[e.React.createElement(C,{key:"ref",style:{flex:1,padding:8,backgroundColor:"#3f4147",borderRadius:6,marginRight:2,alignItems:"center"},onPress:wt},e.React.createElement(i,{style:{color:"#fff",fontSize:10}},"\u{1F504} Refresh")),e.React.createElement(C,{key:"cpy",style:{flex:1,padding:8,backgroundColor:"#3f4147",borderRadius:6,marginLeft:2,alignItems:"center"},onPress:function(){O(y.id)&&R.showToast("\u{1F4CB} Channel ID copied",p.getAssetIDByName("Check"))}},e.React.createElement(i,{style:{color:"#b5bac1",fontSize:9}},"\u{1F4CB} Channel ID"))]),e.React.createElement(i,{key:"hint",style:{color:"#949ba4",fontSize:9,textAlign:"center",marginBottom:4}},"Tap any role/user to copy ID"),...y.permissions.overwrites.map(function(n,s){return e.React.createElement(Bt,{key:`ow-${s}`,ow:n})})]],c==="user"&&[e.React.createElement(g,{key:"input-box",style:{margin:8,padding:10,backgroundColor:"#2b2d31",borderRadius:8}},[e.React.createElement(i,{key:"lbl",style:{color:"#fff",fontSize:11,fontWeight:"bold",marginBottom:4}},"\u{1F464} User ID Lookup"),e.React.createElement(g,{key:"row",style:{flexDirection:"row",alignItems:"center"}},[e.React.createElement(me,{key:"input",style:{flex:1,backgroundColor:"#1e1f22",color:"#fff",padding:8,borderRadius:6,fontSize:12},placeholder:"Enter User ID",placeholderTextColor:"#72767d",value:N,onChangeText:Ae}),e.React.createElement(C,{key:"paste",style:{marginLeft:4,padding:8,backgroundColor:"#3f4147",borderRadius:6},onPress:function(){return Me(Ae)}},e.React.createElement(i,{style:{color:"#fff",fontSize:11}},"\u{1F4CB}"))]),e.React.createElement(C,{key:"btn",style:{marginTop:8,padding:10,backgroundColor:"#5865F2",borderRadius:6,alignItems:"center"},onPress:Tt},e.React.createElement(i,{style:{color:"#fff",fontWeight:"bold",fontSize:12}},St?"\u23F3...":"\u{1F50D} Find Hidden Channels"))]),$&&e.React.createElement(g,{key:"user-info",style:{margin:8,marginTop:0,padding:8,backgroundColor:"#2b2d31",borderRadius:8}},[e.React.createElement(i,{key:"name",style:{color:"#fff",fontSize:12,fontWeight:"bold"}},((t=$.member)==null?void 0:t.nick)||((a=$.user)==null?void 0:a.globalName)||((l=$.user)==null?void 0:l.username)||`User ${$.id.slice(-6)}`),e.React.createElement(i,{key:"access",style:{color:"#43b581",fontSize:10,marginTop:2}},`\u2705 Can access ${ce.length} hidden channels`)]),...ce.map(function(n,s){return e.React.createElement(Oe,{key:`uc${s}`,ch:n,onPress:function(){T(n),o("perms")}})}),$&&ce.length===0&&e.React.createElement(i,{key:"no",style:{color:"#949ba4",textAlign:"center",fontSize:11,marginTop:10}},"No hidden channel access")],c==="search"&&[e.React.createElement(g,{key:"auto-box",style:{margin:8,padding:10,backgroundColor:"#2b2d31",borderRadius:8}},[e.React.createElement(g,{key:"row",style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},[e.React.createElement(g,{key:"txt"},[e.React.createElement(i,{key:"t",style:{color:"#fff",fontSize:11,fontWeight:"bold"}},"\u{1F4AC} Auto-Search"),e.React.createElement(i,{key:"s",style:{color:"#b5bac1",fontSize:9}},"Copy User ID \u2192 auto-copies latest message")]),e.React.createElement(C,{key:"toggle",style:{padding:8,backgroundColor:K?"#43b581":"#ed4245",borderRadius:6},onPress:function(){return Nt(!K)}},e.React.createElement(i,{style:{color:"#fff",fontSize:10,fontWeight:"bold"}},K?"ON":"OFF"))]),e.React.createElement(i,{key:"note",style:{color:"#949ba4",fontSize:9,marginTop:6}},U?"\u23F8\uFE0F Paused while dashboard is open":K?"\u2705 Active":"\u274C Disabled")]),e.React.createElement(g,{key:"search-box",style:{margin:8,marginTop:0,padding:10,backgroundColor:"#2b2d31",borderRadius:8}},[e.React.createElement(i,{key:"lbl",style:{color:"#fff",fontSize:11,fontWeight:"bold",marginBottom:4}},"\u{1F50D} Manual Search"),e.React.createElement(g,{key:"row",style:{flexDirection:"row",alignItems:"center"}},[e.React.createElement(me,{key:"input",style:{flex:1,backgroundColor:"#1e1f22",color:"#fff",padding:8,borderRadius:6,fontSize:12},placeholder:"Enter User ID",placeholderTextColor:"#72767d",value:$e,onChangeText:xe}),e.React.createElement(C,{key:"paste",style:{marginLeft:4,padding:8,backgroundColor:"#3f4147",borderRadius:6},onPress:function(){return Me(xe)}},e.React.createElement(i,{style:{color:"#fff",fontSize:11}},"\u{1F4CB}"))]),e.React.createElement(C,{key:"btn",style:{marginTop:8,padding:10,backgroundColor:"#5865F2",borderRadius:6,alignItems:"center"},onPress:Ft},e.React.createElement(i,{style:{color:"#fff",fontWeight:"bold",fontSize:12}},Ct?"\u23F3 Searching...":"\u{1F50D} Find Messages"))]),de.length>0&&e.React.createElement(i,{key:"results-title",style:{color:"#fff",fontSize:11,fontWeight:"bold",marginLeft:8,marginTop:4}},`\u{1F4DD} ${de.length} Messages:`),...de.slice(0,25).map(function(n,s){return e.React.createElement(C,{key:`msg${s}`,style:{margin:4,marginHorizontal:8,padding:10,backgroundColor:"#2b2d31",borderRadius:8,borderLeftWidth:3,borderLeftColor:"#5865F2"},onPress:function(){return Dt(n)}},[e.React.createElement(g,{key:"hdr",style:{flexDirection:"row",alignItems:"center",marginBottom:4}},[e.React.createElement(i,{key:"ch",style:{color:"#5865F2",fontSize:11,flex:1}},`#${n.channelName}`),e.React.createElement(i,{key:"time",style:{color:"#949ba4",fontSize:9}},ht(n.timestamp))]),e.React.createElement(i,{key:"content",style:{color:"#dcddde",fontSize:11},numberOfLines:2},n.content),e.React.createElement(i,{key:"server",style:{color:"#72767d",fontSize:9,marginTop:4}},`\u{1F4CD} ${n.guildName}`)])})],c==="debug"&&[e.React.createElement(g,{key:"debug-header",style:{margin:8,padding:10,backgroundColor:"#2b2d31",borderRadius:8}},[e.React.createElement(i,{key:"t",style:{color:"#fff",fontSize:14,fontWeight:"bold"}},"\u{1F41B} Debug Logs"),e.React.createElement(i,{key:"s",style:{color:"#b5bac1",fontSize:10,marginTop:4}},`${q.length} log entries`),e.React.createElement(g,{key:"btns",style:{flexDirection:"row",marginTop:8}},[e.React.createElement(C,{key:"refresh",style:{flex:1,padding:8,backgroundColor:"#5865F2",borderRadius:6,marginRight:4,alignItems:"center"},onPress:function(){return ue(te())}},e.React.createElement(i,{style:{color:"#fff",fontSize:10}},"\u{1F504} Refresh")),e.React.createElement(C,{key:"clear",style:{flex:1,padding:8,backgroundColor:"#ed4245",borderRadius:6,marginLeft:4,alignItems:"center"},onPress:function(){Je(),ue([])}},e.React.createElement(i,{style:{color:"#fff",fontSize:10}},"\u{1F5D1}\uFE0F Clear")),e.React.createElement(C,{key:"copy",style:{flex:1,padding:8,backgroundColor:"#3f4147",borderRadius:6,marginLeft:4,alignItems:"center"},onPress:function(){O(q.join(`
`))&&R.showToast("\u{1F4CB} Logs copied!",p.getAssetIDByName("Check"))}},e.React.createElement(i,{style:{color:"#fff",fontSize:10}},"\u{1F4CB} Copy"))])]),e.React.createElement(g,{key:"module-status",style:{margin:8,marginTop:0,padding:10,backgroundColor:"#2b2d31",borderRadius:8}},[e.React.createElement(i,{key:"t",style:{color:"#fff",fontSize:12,fontWeight:"bold",marginBottom:6}},"\u{1F4E6} Module Status"),e.React.createElement(i,{key:"m1",style:{color:L?"#43b581":"#ed4245",fontSize:10}},`UserProfileHeader: ${L?"\u2705":"\u274C"}`),e.React.createElement(i,{key:"m2",style:{color:M?"#43b581":"#ed4245",fontSize:10}},`ChannelLongPress: ${M?"\u2705":"\u274C"}`),e.React.createElement(i,{key:"m3",style:{color:ne?"#43b581":"#ed4245",fontSize:10}},`ActionSheet: ${ne?"\u2705":"\u274C"}`),e.React.createElement(i,{key:"m4",style:{color:re?"#43b581":"#ed4245",fontSize:10}},`Commands: ${re?"\u2705":"\u274C"}`),e.React.createElement(i,{key:"m5",style:{color:"#949ba4",fontSize:10,marginTop:4}},`Patches active: ${B.length}`)]),...q.map(function(n,s){return e.React.createElement(i,{key:`log${s}`,style:{color:n.includes("ERROR")?"#ed4245":n.includes("SUCCESS")?"#43b581":"#b5bac1",fontSize:9,paddingHorizontal:8,paddingVertical:2,fontFamily:"monospace"}},n)}),q.length===0&&e.React.createElement(i,{key:"no-logs",style:{color:"#949ba4",textAlign:"center",marginTop:20,fontSize:11}},"No logs yet")]])}const Rt=pt,bt=function(){if(h("LOAD","=== STALKER PRO v5.0-dev ==="),z!=null&&z.can)try{B.push(Q.after("can",z,function([t,a],l){return a!=null&&a.realCheck?l:V&&t===we?!0:l})),h("PATCH","\u2705 Permissions.can patched")}catch(t){h("ERROR",`Permissions.can patch failed: ${t}`)}if(L)try{B.push(Q.after("default",L,function([t],a){var l;return h("PROFILE",`UserProfileHeader rendered for user: ${((l=t?.user)==null?void 0:l.id)||"unknown"}`),a})),h("PATCH","\u2705 UserProfileHeader patched (monitoring)")}catch(t){h("ERROR",`UserProfileHeader patch failed: ${t}`)}if(M)try{B.push(Q.after("default",M,function([t],a){var l;return h("CHANNEL",`ChannelLongPress for channel: ${((l=t?.channel)==null?void 0:l.id)||"unknown"}`),a})),h("PATCH","\u2705 ChannelLongPress patched (monitoring)")}catch(t){h("ERROR",`ChannelLongPress patch failed: ${t}`)}w!=null&&w.getString&&(j=setInterval(yt,2e3),h("LOAD","\u2705 Clipboard monitor started")),R.showToast("\u{1F50D} Stalker Pro v5.0-dev",p.getAssetIDByName("Check"))},kt=function(){h("UNLOAD","Cleaning up..."),j&&(clearInterval(j),j=null);for(const t of B)try{t()}catch{}B=[],V=!1,U=!1,h("UNLOAD",`Removed ${B.length} patches`)};return _.onLoad=bt,_.onUnload=kt,_.settings=Rt,_})({},vendetta,vendetta.metro,vendetta.metro.common,vendetta.ui.components,vendetta.ui.assets,vendetta.ui.toasts,vendetta.patcher);
